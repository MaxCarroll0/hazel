fun model, action ->
    case action
    | Draw(x, y) => 
        let new_canvas = Canvas.set_pixel(model.canvas, x, y, model.current_color) in
        { model with canvas = new_canvas }
    | ChangeColor(color) => 
        { model with current_color = color }
    end