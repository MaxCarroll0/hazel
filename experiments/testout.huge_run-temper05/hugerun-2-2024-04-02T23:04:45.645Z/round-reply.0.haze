
fun model, action ->
  case action
  | Add =>
      let new_todos = add(model) in
      { model with todos = new_todos }
  | Toggle(i) =>
      let new_todos = toggle(i, model.todos) in
      { model with todos = new_todos }
  | Remove(i) =>
      let new_todos = remove(i, model.todos) in
      { model with todos = new_todos }
  end