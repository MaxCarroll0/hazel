fun (model, action) ->
    case action
    | NoOp => model
    | Toggle(id) => {model with todos = toggle(id, model.todos)}
    | Remove(id) => {model with todos = remove(id, model.todos)}
    | Add => {model with todos = add(model)}
    | UpdateInput(input) => {model with input = string_trim(input)}
    end