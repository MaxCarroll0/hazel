fun (model, action) ->
case action
| NoOp => model
| Add => add(model)
| Remove(id) => { model with todos = remove(id, model.todos) }
| Toggle(id) => { model with todos = toggle(id, model.todos) }
end