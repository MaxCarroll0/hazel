fun (model, action) -> 
  case action 
    | AddTodo =>
        let (buffer, todos) = model in buffer, ((buffer, false)::todos)
    | RemoveTodo(idx) =>
        let (buffer, todos) = model in buffer, List.remove_at(todos, idx)
    | ToggleTodo(idx) =>
        let (buffer, todos) = model in 
        buffer, (List.map(fun (name, done) -> if idx == index then (name, not done) else (name, done), todos))
    | UpdateBuffer(str) =>
        let (buffer, todos) = model in (str, todos)
    end