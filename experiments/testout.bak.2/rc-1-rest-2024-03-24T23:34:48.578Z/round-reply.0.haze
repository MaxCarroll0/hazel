
fun model, action ->
  case action of
    | AddTodo => let (buffer, todos) = model in add(buffer, todos) 
    | RemoveTodo(index) => let (_, todos) = model in remove(index, todos)
    | ToggleTodo(index) => let (_, todos) = model in toggle(index, todos)
    | UpdateBuffer(new_buffer) => let (_, todos) = model in (new_buffer, todos)
  end