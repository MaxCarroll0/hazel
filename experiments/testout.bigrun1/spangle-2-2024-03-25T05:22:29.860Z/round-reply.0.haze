
fun model, action ->
  case action
  | Add => let new_todos = add(model) in model { todos = new_todos }
  | Remove(id) => let new_todos = remove(id, model.todos) in model { todos = new_todos }
  | Toggle(id) => let new_todos = toggle(id, model.todos) in model { todos = new_todos }
  end