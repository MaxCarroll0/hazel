fun (model, action) ->
    case action
    | AddTodo => (model.1, add(model))
    | RemoveTodo(index) => (model.1, remove(index, model.2))
    | ToggleTodo(index) => (model.1, toggle(index, model.2))
    | UpdateBuffer(str) => (str, model.2)
    end