
fun model, action ->
    case action
    | AddTodo => add(model)
    | RemoveTodo(i) => (model.1, remove(i, model.2))
    | ToggleTodo(i) => (model.1, toggle(i, model.2))
    | UpdateBuffer(s) => (s, model.2)
    end