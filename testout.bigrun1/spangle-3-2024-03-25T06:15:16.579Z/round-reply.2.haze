fun (model, action) ->
    case action
    | ReserveRoom(room_id) => { rooms = reserve_room(model.rooms, room_id), user = model.user }
    | CancelReservation(room_id) => { rooms = cancel_reservation(model.rooms, room_id), user = model.user }
    | SetUser(user) => { rooms = model.rooms, user = user }
    end