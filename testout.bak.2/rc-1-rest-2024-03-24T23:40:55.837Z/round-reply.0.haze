
fun m, a ->
case a
| AddTodo => (fst(m), (fst(m), false)::snd(m))
| RemoveTodo(i) => (fst(m), removeTodo(i, snd(m)))
| ToggleTodo(i) => (fst(m), toggleTodo(i, snd(m)))
| UpdateBuffer(s) => (s, snd(m))
end